<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UCB Digital Academy - 3D Journey</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/PointerLockControls.js"></script>
    <style>
        /* Minimal fallback for loading, main styles in styles.css */
        body { background: #000; color: #fff; margin: 0; font-family: 'Arial', sans-serif; }
    </style>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen" role="status" aria-live="polite">
        <div class="loader"></div>
        <h2>Loading UCB Digital Academy 3D Experience...</h2>
        <p>Preparing your immersive journey</p>
    </div>

    <!-- Main 3D Canvas -->
    <div id="canvas-container" aria-label="3D Journey Environment"></div>

    <!-- UI Overlay (all floating panels) -->
    <div id="ui-overlay" aria-live="polite">
        <!-- Scene Title -->
        <div id="scene-title" class="ui-element" role="heading" aria-level="1">Welcome to UCB Digital Academy</div>
        
        <!-- Minimap -->
        <div id="minimap" class="ui-element" aria-label="Minimap">
            <canvas id="minimap-canvas" width="200" height="150"></canvas>
        </div>
        
        <!-- Navigation Panel -->
        <nav id="navigation-panel" class="ui-element" aria-label="Journey Navigation">
            <h3>Navigation</h3>
            <button class="scene-button" onclick="journey.goToScene(0)">Welcome Hub</button>
            <button class="scene-button" onclick="journey.goToScene(1)">Journey Gateway</button>
            <button class="scene-button" onclick="journey.goToScene(2)">Study Programmes</button>
            <button class="scene-button" onclick="journey.goToScene(3)">Core Knowledge Lab</button>
            <button class="scene-button" onclick="journey.goToScene(4)">Specialised Programmes</button>
            <button class="scene-button" onclick="journey.goToScene(5)">Industry Placement</button>
            <button class="scene-button" onclick="journey.goToScene(6)">Progress Tracking</button>
            <button class="scene-button" onclick="journey.goToScene(7)">Future Launch</button>
            <button class="scene-button" onclick="journey.toggleChatbot()">ðŸ¤– Chat Guide</button>
        </nav>
        
        <!-- Progress Bar -->
        <div id="progress-bar" class="ui-element" aria-label="Journey Progress">
            <div id="progress-fill"></div>
        </div>
        
        <!-- Info Panel -->
        <aside id="info-panel" class="info-panel ui-element" aria-live="polite">
            <h3 id="info-title">Scene Information</h3>
            <p id="info-content">Navigate through the 3D environment to explore UCB Digital Academy's offerings.</p>
        </aside>
        
        <!-- Control Hint -->
        <div class="control-hint" aria-label="Controls">
            Use WASD to move, Mouse to look around, Click objects to interact
        </div>
    </div>

    <!-- Chatbot Panel (hidden by default) -->
    <section id="chatbot-panel" aria-label="Digital Academy Chatbot" tabindex="0">
        <div id="chatbot-header">
            ðŸ¤– Digital Academy Guide
        </div>
        <div id="chatbot-messages">
            <div style="margin-bottom: 10px; padding: 10px; background: rgba(0, 255, 255, 0.1); border-radius: 10px;">
                Welcome! I'm your digital guide. Ask me anything about UCB Digital Academy!
            </div>
        </div>
        <input type="text" id="chatbot-input" placeholder="Ask me about courses, programmes, or anything else..." onkeypress="handleChatInput(event)" aria-label="Chatbot input">
    </section>

    <!-- Main script -->
    <script src="script.js"></script>
</body>
</html>